<div class="admin-config-container">
    <!-- Back Button -->
    <div class="top-bar">
      <button class="btn-back" (click)="navigateBack()">
        ‚Üê Back to Chat
      </button>
      <app-menu></app-menu> <!-- Reuse the menu component -->
    </div>
  <h2>ChatBot Configuration</h2>
  <p>Manage your chatbot settings and parameters</p>

  <!-- Dropdown for AI Applications -->
  <div class="form-group">
    <label for="ai-application">Select AI Application</label>
    <select
      id="ai-application"
      [(ngModel)]="selectedApplicationId"
      (change)="onApplicationChange($event)"
    >
      <option *ngFor="let app of aiApplications" [value]="app.ApplicationId">
        {{ app.ApplicationName }}
      </option>
    </select>
  </div>

  <div *ngIf="currentConfig">
    <!-- Model Settings -->
    <h3>Model Settings</h3>
    <div class="form-group">
      <label for="model-name">Model Name</label>
      <input
        type="text"
        id="model-name"
        [(ngModel)]="currentConfig.ModelName"
        placeholder="Enter Model Name"
      />
    </div>
    <div class="form-group">
      <label for="model-id">Model ID</label>
      <input
        type="text"
        id="model-id"
        [(ngModel)]="currentConfig.ModelId"
        placeholder="Enter Model ID"
      />
    </div>

    <!-- Model Parameters -->
    <h3>Model Parameters</h3>
    <div class="form-group">
      <label for="temperature">Temperature</label>
      <input
        type="range"
        id="temperature"
        min="0"
        max="1"
        step="0.1"
        [(ngModel)]="currentConfig.ModelParams.temperature"
      />
      <span>{{ currentConfig.ModelParams.temperature }}</span>
    </div>
    <div class="form-group">
      <label for="top-p">Top P</label>
      <input
        type="range"
        id="top-p"
        min="0"
        max="1"
        step="0.1"
        [(ngModel)]="currentConfig.ModelParams.top_p"
      />
      <span>{{ currentConfig.ModelParams.top_p }}</span>
    </div>
    <div class="form-group">
      <label for="max-tokens">Maximum Tokens</label>
      <input
        type="number"
        id="max-tokens"
        [(ngModel)]="currentConfig.ModelParams.max_tokens_to_sample"
      />
    </div>

    <!-- System Prompt -->
    <h3>System Prompt</h3>
    <div class="form-group">
      <textarea
        id="system-prompt"
        rows="5"
        [(ngModel)]="currentConfig.SystemPrompt"
        placeholder="Enter System Prompt"
      ></textarea>
    </div>

    <!-- QA Prompt -->
    <h3>QA Prompt</h3>
    <div class="form-group">
      <textarea
        id="qa-prompt"
        rows="5"
        [(ngModel)]="currentConfig.QAPrompt"
        placeholder="Enter QA Prompt"
      ></textarea>
    </div>

    <button class="save-button" (click)="saveConfiguration()">Save Changes</button>
  </div>
</div>
